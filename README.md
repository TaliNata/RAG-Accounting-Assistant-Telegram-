# Telegram-бот: бухгалтерия и зарплата

Бот для расчёта зарплаты, отпускных, больничных и НДФЛ по данным из Excel. Есть RAG: ответы на вопросы по базе знаний (правила расчётов).

## Установка

```bash
python -m venv venv
venv\Scripts\activate   # Windows
pip install -r requirements.txt
```

Скопируйте `.env.example` в `.env` и укажите токен бота:

```
TELEGRAM_BOT_TOKEN=ваш_токен_от_BotFather
OPENAI_API_KEY=sk-...   # необязательно, для полного RAG
```

Положите файл `Бухгалтерия_учебная_БД.xlsx` в папку проекта (или задайте путь в `EXCEL_PATH` в `.env`).

## Запуск

```bash
python bot.py
```

## Функции

- **Зарплата** — введите ФИО, получите расчёт (оклад, премия, сверхурочные, НДФЛ, к выплате).
- **Премии (ТОП 10)** — список сотрудников с наибольшими премиями.
- **Отпускные / Больничные** — введите ФИО для расчёта.
- **Задать вопрос (RAG)** — задайте вопрос текстом по правилам расчётов (отпускные, больничные, НДФЛ и т.д.).

При первом вопросе через RAG скачается модель эмбеддингов и построится индекс из `knowledge_base.md`.
